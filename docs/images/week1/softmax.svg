<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1920 1080">

  <!-- LAYER 1: Background -->
  <rect width="1920" height="1080" fill="#ffffff"/>

  <!-- LAYER 2: Section backgrounds -->
  <!-- Left: Input logits -->
  <rect x="40" y="140" width="440" height="400" fill="#fff5f5" stroke="#fc8181" stroke-width="2" rx="8"/>
  <!-- Center: The Transform -->
  <rect x="500" y="140" width="500" height="400" fill="#faf5ff" stroke="#9f7aea" stroke-width="2" rx="8"/>
  <!-- Right: Output probabilities -->
  <rect x="1020" y="140" width="440" height="400" fill="#f0fff4" stroke="#48bb78" stroke-width="2" rx="8"/>
  <!-- Far right: Big O -->
  <rect x="1480" y="140" width="400" height="400" fill="#1a202c" stroke="#e53e3e" stroke-width="3" rx="8"/>

  <!-- Bottom: Where it's used -->
  <rect x="40" y="560" width="1840" height="280" fill="#2d3748" stroke="#4a5568" stroke-width="2" rx="8"/>

  <!-- LAYER 3: Visual elements -->

  <!-- Left: Input bars -->
  <rect x="80" y="300" width="70" height="160" fill="#e53e3e" stroke="#c53030" stroke-width="2" rx="4"/>
  <rect x="180" y="380" width="70" height="80" fill="#e53e3e" stroke="#c53030" stroke-width="2" rx="4"/>
  <rect x="280" y="420" width="70" height="40" fill="#e53e3e" stroke="#c53030" stroke-width="2" rx="4"/>
  <!-- Ellipsis dots to show many more -->
  <circle cx="380" cy="440" r="4" fill="#c53030"/>
  <circle cx="400" cy="440" r="4" fill="#c53030"/>
  <circle cx="420" cy="440" r="4" fill="#c53030"/>

  <!-- Baseline -->
  <line x1="60" y1="460" x2="370" y2="460" stroke="#718096" stroke-width="1" stroke-dasharray="4,4"/>

  <!-- Arrow to center -->
  <line x1="420" y1="360" x2="480" y2="360" stroke="#9f7aea" stroke-width="3"/>
  <polygon points="480,352 500,360 480,368" fill="#9f7aea"/>

  <!-- Center: exp() box -->
  <rect x="540" y="220" width="420" height="80" fill="#6b46c1" stroke="#553c9a" stroke-width="2" rx="8"/>

  <!-- Division bar -->
  <rect x="540" y="330" width="420" height="50" fill="#805ad5" stroke="#6b46c1" stroke-width="2" rx="8"/>

  <!-- Sum box -->
  <rect x="620" y="410" width="260" height="40" fill="#9f7aea" stroke="#805ad5" stroke-width="2" rx="4"/>

  <!-- Arrow to right -->
  <line x1="980" y1="360" x2="1000" y2="360" stroke="#48bb78" stroke-width="3"/>
  <polygon points="1000,352 1020,360 1000,368" fill="#48bb78"/>

  <!-- Right: Output bars -->
  <rect x="1080" y="260" width="80" height="166" fill="#38a169" stroke="#276749" stroke-width="2" rx="4"/>
  <rect x="1200" y="366" width="80" height="60" fill="#38a169" stroke="#276749" stroke-width="2" rx="4"/>
  <rect x="1320" y="400" width="80" height="26" fill="#38a169" stroke="#276749" stroke-width="2" rx="4"/>
  <!-- Ellipsis dots -->
  <circle cx="1420" cy="420" r="4" fill="#276749"/>
  <circle cx="1440" cy="420" r="4" fill="#276749"/>

  <!-- Sum bracket -->
  <line x1="1080" y1="445" x2="1400" y2="445" stroke="#276749" stroke-width="2"/>
  <line x1="1080" y1="440" x2="1080" y2="450" stroke="#276749" stroke-width="2"/>
  <line x1="1400" y1="440" x2="1400" y2="450" stroke="#276749" stroke-width="2"/>
  <line x1="1240" y1="445" x2="1240" y2="460" stroke="#276749" stroke-width="2"/>

  <!-- Big O: O(n²) attention matrix visualization -->
  <rect x="1520" y="220" width="140" height="140" fill="#e53e3e" stroke="#c53030" stroke-width="2" rx="4"/>
  <!-- Grid lines to show n×n -->
  <line x1="1520" y1="255" x2="1660" y2="255" stroke="#c53030" stroke-width="1"/>
  <line x1="1520" y1="290" x2="1660" y2="290" stroke="#c53030" stroke-width="1"/>
  <line x1="1520" y1="325" x2="1660" y2="325" stroke="#c53030" stroke-width="1"/>
  <line x1="1555" y1="220" x2="1555" y2="360" stroke="#c53030" stroke-width="1"/>
  <line x1="1590" y1="220" x2="1590" y2="360" stroke="#c53030" stroke-width="1"/>
  <line x1="1625" y1="220" x2="1625" y2="360" stroke="#c53030" stroke-width="1"/>

  <!-- Highlight one row being computed -->
  <rect x="1520" y="290" width="140" height="35" fill="#fc8181" stroke="#c53030" stroke-width="2"/>

  <!-- Arrow showing "must sum entire row" -->
  <line x1="1680" y1="307" x2="1750" y2="307" stroke="#fc8181" stroke-width="2"/>
  <polygon points="1750,301 1765,307 1750,313" fill="#fc8181"/>

  <!-- Bottleneck icon -->
  <rect x="1770" y="280" width="80" height="55" fill="#c53030" stroke="#9b2c2c" stroke-width="2" rx="4"/>

  <!-- Bottom: Three use cases -->
  <!-- Attention -->
  <rect x="80" y="620" width="400" height="180" fill="#3182ce" stroke="#2c5282" stroke-width="2" rx="8"/>

  <!-- Token boxes -->
  <rect x="110" y="700" width="50" height="40" fill="#bee3f8" rx="2"/>
  <rect x="170" y="700" width="50" height="40" fill="#63b3ed" rx="2"/>
  <rect x="230" y="700" width="50" height="40" fill="#2c5282" rx="2"/>
  <rect x="290" y="700" width="50" height="40" fill="#bee3f8" rx="2"/>
  <rect x="350" y="700" width="50" height="40" fill="#bee3f8" rx="2"/>

  <!-- Final layer -->
  <rect x="520" y="620" width="400" height="180" fill="#6b46c1" stroke="#553c9a" stroke-width="2" rx="8"/>

  <!-- Word probability bars -->
  <rect x="550" y="700" width="20" height="60" fill="#9f7aea" rx="1"/>
  <rect x="580" y="720" width="20" height="40" fill="#d6bcfa" rx="1"/>
  <rect x="610" y="735" width="20" height="25" fill="#d6bcfa" rx="1"/>
  <rect x="640" y="745" width="20" height="15" fill="#e9d8fd" rx="1"/>
  <rect x="670" y="750" width="20" height="10" fill="#e9d8fd" rx="1"/>
  <rect x="700" y="752" width="20" height="8" fill="#e9d8fd" rx="1"/>
  <rect x="730" y="754" width="20" height="6" fill="#e9d8fd" rx="1"/>

  <!-- Temperature -->
  <rect x="960" y="620" width="400" height="180" fill="#ed8936" stroke="#c05621" stroke-width="2" rx="8"/>

  <!-- T=0.1 sharp -->
  <rect x="1010" y="680" width="25" height="80" fill="#fbd38d" rx="2"/>
  <rect x="1045" y="730" width="25" height="30" fill="#fbd38d" rx="2"/>
  <rect x="1080" y="745" width="25" height="15" fill="#feebc8" rx="2"/>

  <!-- T=2.0 flat -->
  <rect x="1180" y="710" width="25" height="50" fill="#dd6b20" rx="2"/>
  <rect x="1215" y="720" width="25" height="40" fill="#dd6b20" rx="2"/>
  <rect x="1250" y="730" width="25" height="30" fill="#c05621" rx="2"/>

  <!-- Why it's slow -->
  <rect x="1400" y="620" width="440" height="180" fill="#1a202c" stroke="#e53e3e" stroke-width="3" rx="8"/>

  <!-- Sequential dependency visualization -->
  <rect x="1440" y="700" width="40" height="30" fill="#4a5568" rx="2"/>
  <rect x="1490" y="700" width="40" height="30" fill="#4a5568" rx="2"/>
  <rect x="1540" y="700" width="40" height="30" fill="#4a5568" rx="2"/>
  <rect x="1590" y="700" width="40" height="30" fill="#4a5568" rx="2"/>
  <line x1="1440" y1="745" x2="1630" y2="745" stroke="#e53e3e" stroke-width="2"/>
  <line x1="1440" y1="740" x2="1440" y2="750" stroke="#e53e3e" stroke-width="2"/>
  <line x1="1630" y1="740" x2="1630" y2="750" stroke="#e53e3e" stroke-width="2"/>
  <line x1="1535" y1="745" x2="1535" y2="760" stroke="#e53e3e" stroke-width="2"/>

  <!-- Arrow to sum -->
  <rect x="1680" y="700" width="60" height="30" fill="#e53e3e" rx="2"/>
  <line x1="1640" y1="715" x2="1670" y2="715" stroke="#fc8181" stroke-width="2"/>
  <polygon points="1670,709 1685,715 1670,721" fill="#fc8181"/>

  <!-- Then divide arrow -->
  <line x1="1750" y1="715" x2="1780" y2="715" stroke="#fc8181" stroke-width="2"/>
  <polygon points="1780,709 1795,715 1780,721" fill="#fc8181"/>

  <rect x="1790" y="700" width="60" height="30" fill="#38a169" rx="2"/>

  <!-- LAYER 5: TEXT (always last) -->

  <!-- Title -->
  <text x="960" y="70" font-family="Georgia, Times, serif" font-size="48" fill="#1a202c" text-anchor="middle" font-weight="600">Softmax</text>
  <text x="960" y="105" font-family="Georgia, Times, serif" font-size="20" fill="#718096" text-anchor="middle">Turn any numbers into probabilities that sum to 1</text>

  <!-- Left panel -->
  <text x="260" y="180" font-family="Georgia, Times, serif" font-size="22" fill="#c53030" text-anchor="middle" font-weight="600">INPUT</text>
  <text x="260" y="205" font-family="Georgia, Times, serif" font-size="14" fill="#718096" text-anchor="middle">Vector of N numbers</text>

  <text x="115" y="285" font-family="Georgia, Times, serif" font-size="18" fill="#c53030" text-anchor="middle">2.0</text>
  <text x="215" y="365" font-family="Georgia, Times, serif" font-size="18" fill="#c53030" text-anchor="middle">1.0</text>
  <text x="315" y="405" font-family="Georgia, Times, serif" font-size="18" fill="#c53030" text-anchor="middle">0.1</text>

  <text x="260" y="485" font-family="Georgia, Times, serif" font-size="14" fill="#c53030" text-anchor="middle" font-weight="500">Attention: N = context len</text>
  <text x="260" y="505" font-family="Georgia, Times, serif" font-size="14" fill="#c53030" text-anchor="middle" font-weight="500">(2K → 128K tokens)</text>
  <text x="260" y="530" font-family="Georgia, Times, serif" font-size="14" fill="#718096" text-anchor="middle">Vocab: N = 32K-128K words</text>

  <!-- Center panel -->
  <text x="750" y="180" font-family="Georgia, Times, serif" font-size="22" fill="#553c9a" text-anchor="middle" font-weight="600">TRANSFORM</text>

  <text x="750" y="265" font-family="Georgia, Times, serif" font-size="20" fill="#ffffff" text-anchor="middle">exp(xᵢ) / Σ exp(xⱼ)</text>

  <text x="750" y="362" font-family="Georgia, Times, serif" font-size="16" fill="#ffffff" text-anchor="middle">7.39 + 2.72 + 1.11 = 11.22</text>

  <text x="750" y="438" font-family="Georgia, Times, serif" font-size="16" fill="#ffffff" text-anchor="middle">divide each by sum</text>

  <text x="750" y="500" font-family="Georgia, Times, serif" font-size="14" fill="#553c9a" text-anchor="middle">7.39/11.22 = 0.66</text>
  <text x="750" y="520" font-family="Georgia, Times, serif" font-size="14" fill="#553c9a" text-anchor="middle">2.72/11.22 = 0.24</text>

  <!-- Right panel -->
  <text x="1240" y="180" font-family="Georgia, Times, serif" font-size="22" fill="#276749" text-anchor="middle" font-weight="600">OUTPUT</text>
  <text x="1240" y="205" font-family="Georgia, Times, serif" font-size="14" fill="#718096" text-anchor="middle">N probabilities (sum to 1)</text>

  <text x="1120" y="245" font-family="Georgia, Times, serif" font-size="18" fill="#276749" text-anchor="middle" font-weight="500">66%</text>
  <text x="1240" y="355" font-family="Georgia, Times, serif" font-size="18" fill="#276749" text-anchor="middle" font-weight="500">24%</text>
  <text x="1360" y="390" font-family="Georgia, Times, serif" font-size="18" fill="#276749" text-anchor="middle" font-weight="500">10%</text>

  <text x="1240" y="480" font-family="Georgia, Times, serif" font-size="18" fill="#276749" text-anchor="middle" font-weight="600">Σ = 1.0 (always)</text>
  <text x="1240" y="505" font-family="Georgia, Times, serif" font-size="14" fill="#718096" text-anchor="middle">Same shape in, same shape out</text>

  <!-- Big O panel -->
  <text x="1680" y="180" font-family="Georgia, Times, serif" font-size="22" fill="#fc8181" text-anchor="middle" font-weight="600">THE BOTTLENECK</text>

  <text x="1590" y="210" font-family="Georgia, Times, serif" font-size="14" fill="#a0aec0" text-anchor="middle">Attention: n × n matrix</text>

  <text x="1590" y="385" font-family="Georgia, Times, serif" font-size="36" fill="#fc8181" text-anchor="middle" font-weight="600">O(n²)</text>

  <text x="1810" y="302" font-family="Georgia, Times, serif" font-size="14" fill="#ffffff" text-anchor="middle">wait</text>

  <text x="1680" y="480" font-family="Georgia, Times, serif" font-size="14" fill="#fc8181" text-anchor="middle">Must sum entire row first</text>

  <text x="1680" y="420" font-family="Georgia, Times, serif" font-size="14" fill="#a0aec0" text-anchor="middle">Can't parallelize the sum</text>
  <text x="1680" y="440" font-family="Georgia, Times, serif" font-size="14" fill="#a0aec0" text-anchor="middle">→ sequential dependency</text>

  <text x="1680" y="500" font-family="Georgia, Times, serif" font-size="16" fill="#fc8181" text-anchor="middle" font-weight="500">Why context length is expensive</text>

  <!-- Bottom labels -->
  <text x="960" y="600" font-family="Georgia, Times, serif" font-size="20" fill="#ffffff" text-anchor="middle" font-weight="600">WHERE SOFTMAX APPEARS</text>

  <!-- Attention -->
  <text x="280" y="660" font-family="Georgia, Times, serif" font-size="18" fill="#ffffff" text-anchor="middle" font-weight="500">Attention Weights</text>
  <text x="280" y="685" font-family="Georgia, Times, serif" font-size="14" fill="#bee3f8" text-anchor="middle">"Focus on which tokens?"</text>
  <text x="135" y="760" font-family="Georgia, Times, serif" font-size="14" fill="#ffffff" text-anchor="middle">The</text>
  <text x="195" y="760" font-family="Georgia, Times, serif" font-size="14" fill="#ffffff" text-anchor="middle">cat</text>
  <text x="255" y="760" font-family="Georgia, Times, serif" font-size="14" fill="#ffffff" text-anchor="middle">sat</text>
  <text x="315" y="760" font-family="Georgia, Times, serif" font-size="14" fill="#ffffff" text-anchor="middle">on</text>
  <text x="375" y="760" font-family="Georgia, Times, serif" font-size="14" fill="#ffffff" text-anchor="middle">the</text>

  <!-- Final layer -->
  <text x="720" y="660" font-family="Georgia, Times, serif" font-size="18" fill="#ffffff" text-anchor="middle" font-weight="500">Final Layer (Vocab)</text>
  <text x="720" y="685" font-family="Georgia, Times, serif" font-size="14" fill="#e9d8fd" text-anchor="middle">"Next word probability"</text>
  <text x="560" y="775" font-family="Georgia, Times, serif" font-size="14" fill="#d6bcfa" text-anchor="middle">mat</text>
  <text x="620" y="775" font-family="Georgia, Times, serif" font-size="14" fill="#e9d8fd" text-anchor="middle">rug</text>
  <text x="680" y="775" font-family="Georgia, Times, serif" font-size="14" fill="#e9d8fd" text-anchor="middle">floor</text>

  <!-- Temperature -->
  <text x="1160" y="660" font-family="Georgia, Times, serif" font-size="18" fill="#ffffff" text-anchor="middle" font-weight="500">Temperature</text>
  <text x="1160" y="685" font-family="Georgia, Times, serif" font-size="14" fill="#fbd38d" text-anchor="middle">÷T before softmax</text>
  <text x="1060" y="775" font-family="Georgia, Times, serif" font-size="14" fill="#fbd38d" text-anchor="middle">T=0.1</text>
  <text x="1060" y="795" font-family="Georgia, Times, serif" font-size="14" fill="#ffffff" text-anchor="middle">confident</text>
  <text x="1230" y="775" font-family="Georgia, Times, serif" font-size="14" fill="#dd6b20" text-anchor="middle">T=2.0</text>
  <text x="1230" y="795" font-family="Georgia, Times, serif" font-size="14" fill="#ffffff" text-anchor="middle">creative</text>

  <!-- Why slow -->
  <text x="1620" y="660" font-family="Georgia, Times, serif" font-size="18" fill="#fc8181" text-anchor="middle" font-weight="500">Why It's Slow</text>
  <text x="1620" y="685" font-family="Georgia, Times, serif" font-size="14" fill="#a0aec0" text-anchor="middle">Sequential dependency</text>

  <text x="1535" y="770" font-family="Georgia, Times, serif" font-size="14" fill="#a0aec0" text-anchor="middle">sum all</text>
  <text x="1710" y="720" font-family="Georgia, Times, serif" font-size="14" fill="#ffffff" text-anchor="middle">Σ</text>
  <text x="1820" y="720" font-family="Georgia, Times, serif" font-size="14" fill="#ffffff" text-anchor="middle">÷</text>

  <text x="1620" y="815" font-family="Georgia, Times, serif" font-size="14" fill="#fc8181" text-anchor="middle">Must wait for sum before divide</text>

  <!-- TL;DR -->
  <text x="960" y="900" font-family="Georgia, Times, serif" font-size="24" fill="#2d3748" text-anchor="middle" font-weight="500">TL;DR: Softmax over 32K-128K values per token. O(n²) attention = why long context is expensive.</text>

  <!-- Analogy -->
  <text x="960" y="940" font-family="Georgia, Times, serif" font-size="16" fill="#718096" text-anchor="middle">Analogy: Pizza=10, Salad=3, Soup=1 → Pizza 71%, Salad 21%, Soup 7%</text>

</svg>
